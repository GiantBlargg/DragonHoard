[gd_scene load_steps=18 format=3 uid="uid://d3ymgk347dyqy"]

[ext_resource type="Texture2D" uid="uid://cxcdiuucu8n15" path="res://Levels/Stage2.png" id="1_30s64"]
[ext_resource type="Script" path="res://Levels/LevelManager.gd" id="1_xa7a5"]
[ext_resource type="PackedScene" uid="uid://df47tasppgtwm" path="res://Dragon/DragonBody.tscn" id="2_1brl2"]
[ext_resource type="AudioStream" uid="uid://4e5lejl6shwu" path="res://Levels/Strength of the Titans.mp3" id="3_na0vs"]

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_odq3i"]
polygon = PackedVector2Array(-2007, -724, -1882, -749, -1816, -800, -1797, -902, -1792, -1022, -1792, -1101, -1769, -1165, -1730, -1206, -1659, -1263, -1410, -1312, -1301, -1305, -1162, -1312, -1062, -1321, -974, -1322, -729, -1282, -670, -1284, -608, -1270, -370, -1281, -263, -1301, -196, -1330, -165, -1374, -153, -1437, -151, -1506, -2006, -1503)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_nqjac"]
polygon = PackedVector2Array(311, -1508, 319, -1397, 355, -1310, 458, -1295, 606, -1308, 717, -1302, 795, -1279, 1113, -1295, 1258, -1285, 1338, -1271, 1434, -1258, 1486, -1172, 1609, -1112, 1656, -1057, 1663, -985, 1640, -933, 1782, -606, 1766, -514, 1765, -366, 1789, -199, 1841, -147, 1930, -130, 2002, -124, 2001, -1508)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_kk5ww"]
polygon = PackedVector2Array(-2006, 899, -1918, 929, -1790, 974, -1749, 1029, -1657, 1158, -1626, 1250, -1587, 1306, -1565, 1366, -1456, 1384, -1330, 1384, -1237, 1369, -935, 1313, -769, 1312, -638, 1326, -510, 1328, -398, 1366, -360, 1441, -347, 1499, -2006, 1502)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_jt7ox"]
polygon = PackedVector2Array(-6, 1501, 19, 1398, 75, 1368, 162, 1354, 239, 1350, 524, 1309, 639, 1333, 782, 1339, 1019, 1319, 1214, 1321, 1297, 1348, 1449, 1315, 1651, 1291, 1687, 1245, 1699, 1192, 1738, 1129, 1752, 1058, 1771, 981, 1773, 796, 1795, 643, 1754, 448, 1754, 359, 1789, 204, 1957, 118, 2002, 117, 2005, 1505)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_3y06l"]
polygon = PackedVector2Array(-2003, 674, -1941, 659, -1876, 637, -1840, 590, -1812, 473, -1788, 234, -1782, 65, -1785, -62, -1772, -108, -1743, -151, -1685, -179, -1519, -182, -1251, -172, -1028, -153, -943, -163, -915, -163, -870, -185, -853, -213, -849, -248, -860, -281, -888, -319, -938, -351, -1105, -389, -1398, -455, -1496, -467, -1719, -489, -2004, -506)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_jlqqq"]
polygon = PackedVector2Array(-261, -1027, -292, -1016, -325, -984, -345, -942, -353, -878, -356, -805, -333, -728, -300, -679, -265, -653, -228, -651, -199, -665, -149, -764, -143, -826, -153, -884, -174, -947, -202, -993, -232, -1018)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_231ce"]
polygon = PackedVector2Array(-612, 476, -583, 411, -505, 362, -435, 342, -317, 304, -209, 258, -148, 214, -110, 169, 6, 67, 43, 36, 121, -15, 175, -60, 227, -130, 303, -360, 339, -449, 431, -530, 504, -565, 593, -589, 655, -591, 700, -570, 718, -535, 704, -475, 566, -315, 551, -280, 518, -58, 488, 7, 434, 92, 332, 179, 186, 271, 52, 350, -113, 486, -244, 562, -426, 612, -503, 609, -582, 570, -605, 535)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_c06cw"]
polygon = PackedVector2Array(1330, 862, 1323, 796, 1313, 760, 1288, 714, 1259, 681, 1201, 625, 1132, 591, 1094, 591, 1057, 606, 1033, 628, 1023, 666, 1026, 709, 1040, 763, 1082, 837, 1138, 888, 1219, 930, 1270, 938, 1299, 929, 1321, 904)

[sub_resource type="NavigationPolygon" id="NavigationPolygon_gmsjl"]
vertices = PackedVector2Array(-261, -1070, -211, -1048, -153, -982, -114, -871, -129, -738, -164, -637, -248, -607, -326, -660, -374, -738, -389, -836, -393, -934, -372, -1003, -325, -1042, 2224, -1804, 2224, 1759, 2049, 1536, 2051, 62, 2064, -1584, 2010, -76, -45, 1555, -2216, 1759, -310, 1564, -2251, -1804, 294, -1571, 284, -463, 193, -152, 141, -85, -139, 134, -801, -243, -829, -313, 1690, 791, 1617, 1181, 1375, 858, 1358, 783, 1700, 445, 1357, 926, 1228, 1246, 1304, 968, 1243, 973, 673, 1244, -237, 221, -511, 320, -818, -180, 1873, 66, 1733, -148, -853, -144, -603, 381, -294, 1468, -20, 1304, -224, 605, -336, 1282, -422, 654, 358, -1264, 1242, -1227, 1423, -1165, 1530, -1002, 1655, -725, 1685, -479, 765, -538, 722, -609, -2042, 1566, -2052, 876, -104, -1387, 289, -1331, -176, -1275, -104, -1550, -2039, -1552, -2031, -685, 663, -630, 580, -623, 487, -602, 1349, 744, 1322, 681, 586, -260, 603, -292, 737, -446, 1709, 185, 558, -47, 1198, 961, 1110, 913, 1047, 855, -919, -119, 393, -562, 1224, 593, 1146, 556, 1089, 551, 465, 117, 1043, 571, 1007, 594, 346, 217, 989, 642, 74, 390, -70, 524, 998, 765, 210, 1263, 986, 711, -1043, -105, -653, 475, -1760, 926, -686, 1228, -516, 646, -603, 605, -1173, 1287, -638, 565, -1457, 1310, -871, -367, -376, -1235, -1719, 61, -1682, -133, -1757, 480, -779, -1245, -925, -402, -1385, -1256, -1030, -1275, -1377, -509, -1599, -1216, -1759, -941, -1706, -1141, -1497, -527, -1762, -762, -1717, -547, -1893, -685, -2005, -555, -2004, 722, -1988, 850, -1851, 679, -1800, 619, -1729, -73, -1717, -111)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12), PackedInt32Array(13, 14, 15, 16, 17), PackedInt32Array(18, 17, 16), PackedInt32Array(19, 15, 14, 20, 21), PackedInt32Array(22, 13, 17, 23), PackedInt32Array(24, 25, 26, 27, 28, 29), PackedInt32Array(30, 31, 32, 33, 34), PackedInt32Array(35, 32, 31), PackedInt32Array(35, 31, 36, 37), PackedInt32Array(38, 37, 36, 39), PackedInt32Array(28, 27, 40, 41, 42), PackedInt32Array(18, 16, 43, 44), PackedInt32Array(45, 42, 41, 46), PackedInt32Array(47, 48, 19, 21), PackedInt32Array(49, 48, 47, 50, 51), PackedInt32Array(52, 53, 54, 55, 56, 57, 58, 59), PackedInt32Array(60, 21, 20), PackedInt32Array(60, 20, 22, 61), PackedInt32Array(62, 23, 63, 64), PackedInt32Array(23, 62, 65), PackedInt32Array(22, 23, 65, 66), PackedInt32Array(61, 22, 66, 67), PackedInt32Array(52, 59, 68), PackedInt32Array(52, 68, 69), PackedInt32Array(52, 69, 70), PackedInt32Array(34, 33, 71), PackedInt32Array(34, 71, 72), PackedInt32Array(73, 74, 75, 44, 43, 76, 77), PackedInt32Array(78, 38, 39), PackedInt32Array(79, 78, 39), PackedInt32Array(80, 79, 39), PackedInt32Array(81, 45, 46), PackedInt32Array(58, 57, 44, 75), PackedInt32Array(52, 70, 82, 64, 63), PackedInt32Array(77, 76, 34, 72, 83), PackedInt32Array(77, 83, 84), PackedInt32Array(77, 84, 85, 86), PackedInt32Array(86, 85, 87), PackedInt32Array(86, 87, 88, 89), PackedInt32Array(89, 88, 90, 91), PackedInt32Array(92, 93, 80, 39, 94), PackedInt32Array(91, 90, 95, 92), PackedInt32Array(96, 81, 46, 97, 98), PackedInt32Array(92, 95, 93), PackedInt32Array(92, 94, 48, 49), PackedInt32Array(51, 50, 99, 100), PackedInt32Array(101, 100, 99, 102), PackedInt32Array(98, 103, 101, 102, 104), PackedInt32Array(24, 29, 105, 106, 64, 82), PackedInt32Array(97, 103, 98), PackedInt32Array(107, 108, 96, 98, 109), PackedInt32Array(110, 106, 105, 111), PackedInt32Array(112, 113, 110, 111, 114, 115), PackedInt32Array(116, 117, 115, 114, 118, 119), PackedInt32Array(119, 118, 120, 121), PackedInt32Array(121, 120, 122, 67), PackedInt32Array(61, 67, 122, 123), PackedInt32Array(124, 61, 123, 125), PackedInt32Array(98, 124, 125, 126), PackedInt32Array(127, 128, 108, 107), PackedInt32Array(98, 126, 109)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-2251, -1804, 2224, -1804, 2224, 1759, -2216, 1759), PackedVector2Array(-653, 475, -603, 381, -511, 320, -237, 221, -139, 134, 141, -85, 193, -152, 284, -463, 393, -562, 487, -602, 580, -623, 663, -630, 722, -609, 765, -538, 737, -446, 603, -292, 586, -260, 558, -47, 465, 117, 346, 217, 74, 390, -70, 524, -224, 605, -422, 654, -516, 646, -603, 605, -638, 565), PackedVector2Array(1304, 968, 1357, 926, 1375, 858, 1358, 783, 1349, 744, 1322, 681, 1224, 593, 1146, 556, 1089, 551, 1043, 571, 1007, 594, 989, 642, 986, 711, 998, 765, 1047, 855, 1110, 913, 1198, 961, 1243, 973), PackedVector2Array(-2005, -555, -1717, -547, -1497, -527, -1377, -509, -925, -402, -871, -367, -829, -313, -801, -243, -818, -180, -853, -144, -919, -119, -1043, -105, -1682, -133, -1717, -111, -1729, -73, -1719, 61, -1757, 480, -1800, 619, -1851, 679, -2004, 722), PackedVector2Array(-1988, 850, -1760, 926, -1457, 1310, -1173, 1287, -686, 1228, -336, 1282, -294, 1468, -310, 1564, -2042, 1566, -2052, 876), PackedVector2Array(-45, 1555, -20, 1304, 210, 1263, 673, 1244, 1228, 1246, 1617, 1181, 1690, 791, 1700, 445, 1709, 185, 1873, 66, 2051, 62, 2049, 1536), PackedVector2Array(-104, -1550, -104, -1387, -176, -1275, -376, -1235, -779, -1245, -1030, -1275, -1385, -1256, -1599, -1216, -1706, -1141, -1759, -941, -1762, -762, -1893, -685, -2031, -685, -2039, -1552), PackedVector2Array(294, -1571, 289, -1331, 358, -1264, 1242, -1227, 1423, -1165, 1530, -1002, 1655, -725, 1685, -479, 1733, -148, 2010, -76, 2064, -1584), PackedVector2Array(-261, -1070, -211, -1048, -153, -982, -114, -871, -129, -738, -164, -637, -248, -607, -326, -660, -374, -738, -389, -836, -393, -934, -372, -1003, -325, -1042)])

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_4f2wl"]
distance = -1500.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_yvv7w"]
normal = Vector2(0, 1)
distance = -1500.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_wvvnw"]
normal = Vector2(1, 0)
distance = -2000.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_hknsi"]
normal = Vector2(-1, 0)
distance = -2000.0

[node name="Node2D" type="Node2D"]
y_sort_enabled = true

[node name="StaticBody2D" type="StaticBody2D" parent="."]

[node name="Stage2" type="Sprite2D" parent="StaticBody2D"]
texture = ExtResource("1_30s64")

[node name="TLWall" type="CollisionPolygon2D" parent="StaticBody2D"]
polygon = PackedVector2Array(-2007, -724, -1882, -749, -1816, -800, -1797, -902, -1792, -1022, -1792, -1101, -1769, -1165, -1730, -1206, -1659, -1263, -1410, -1312, -1301, -1305, -1162, -1312, -1062, -1321, -974, -1322, -729, -1282, -670, -1284, -608, -1270, -370, -1281, -263, -1301, -196, -1330, -165, -1374, -153, -1437, -151, -1506, -2006, -1503)

[node name="TLWallLight" type="LightOccluder2D" parent="StaticBody2D"]
occluder = SubResource("OccluderPolygon2D_odq3i")

[node name="TRWall" type="CollisionPolygon2D" parent="StaticBody2D"]
polygon = PackedVector2Array(311, -1508, 319, -1397, 355, -1310, 458, -1295, 606, -1308, 717, -1302, 795, -1279, 1113, -1295, 1258, -1285, 1338, -1271, 1434, -1258, 1486, -1172, 1609, -1112, 1656, -1057, 1663, -985, 1640, -933, 1782, -606, 1766, -514, 1765, -366, 1789, -199, 1841, -147, 1930, -130, 2002, -124, 2001, -1508)

[node name="TRWallLight" type="LightOccluder2D" parent="StaticBody2D"]
occluder = SubResource("OccluderPolygon2D_nqjac")

[node name="BLWall" type="CollisionPolygon2D" parent="StaticBody2D"]
polygon = PackedVector2Array(-2006, 899, -1918, 929, -1790, 974, -1749, 1029, -1657, 1158, -1626, 1250, -1587, 1306, -1565, 1366, -1456, 1384, -1330, 1384, -1237, 1369, -935, 1313, -769, 1312, -638, 1326, -510, 1328, -398, 1366, -360, 1441, -347, 1499, -2006, 1502)

[node name="BLWallLight" type="LightOccluder2D" parent="StaticBody2D"]
occluder = SubResource("OccluderPolygon2D_kk5ww")

[node name="BRWall" type="CollisionPolygon2D" parent="StaticBody2D"]
polygon = PackedVector2Array(-6, 1501, 19, 1398, 75, 1368, 162, 1354, 239, 1350, 524, 1309, 639, 1333, 782, 1339, 1019, 1319, 1214, 1321, 1297, 1348, 1449, 1315, 1651, 1291, 1687, 1245, 1699, 1192, 1738, 1129, 1752, 1058, 1771, 981, 1773, 796, 1795, 643, 1754, 448, 1754, 359, 1789, 204, 1957, 118, 2002, 117, 2005, 1505)

[node name="BRWallLight" type="LightOccluder2D" parent="StaticBody2D"]
occluder = SubResource("OccluderPolygon2D_jt7ox")

[node name="LMidWall" type="CollisionPolygon2D" parent="StaticBody2D"]
polygon = PackedVector2Array(-2003, 674, -1941, 659, -1876, 637, -1840, 590, -1812, 473, -1788, 234, -1782, 65, -1785, -62, -1772, -108, -1743, -151, -1685, -179, -1519, -182, -1251, -172, -1028, -153, -943, -163, -915, -163, -870, -185, -853, -213, -849, -248, -860, -281, -888, -319, -938, -351, -1105, -389, -1398, -455, -1496, -467, -1719, -489, -2004, -506)

[node name="LMidWallLight" type="LightOccluder2D" parent="StaticBody2D"]
occluder = SubResource("OccluderPolygon2D_3y06l")

[node name="TCWall" type="CollisionPolygon2D" parent="StaticBody2D"]
polygon = PackedVector2Array(-261, -1027, -292, -1016, -325, -984, -345, -942, -353, -878, -356, -805, -333, -728, -300, -679, -265, -653, -228, -651, -199, -665, -149, -764, -143, -826, -153, -884, -174, -947, -202, -993, -232, -1018)

[node name="TCWallLight" type="LightOccluder2D" parent="StaticBody2D"]
occluder = SubResource("OccluderPolygon2D_jlqqq")

[node name="MCWall" type="CollisionPolygon2D" parent="StaticBody2D"]
polygon = PackedVector2Array(-612, 476, -583, 411, -505, 362, -435, 342, -317, 304, -209, 258, -148, 214, -110, 169, 6, 67, 43, 36, 121, -15, 175, -60, 227, -130, 303, -360, 339, -449, 431, -530, 504, -565, 593, -589, 655, -591, 700, -570, 718, -535, 704, -475, 566, -315, 551, -280, 518, -58, 488, 7, 434, 92, 332, 179, 186, 271, 52, 350, -113, 486, -244, 562, -426, 612, -503, 609, -582, 570, -605, 535)

[node name="MCWallLight" type="LightOccluder2D" parent="StaticBody2D"]
occluder = SubResource("OccluderPolygon2D_231ce")

[node name="BCWall" type="CollisionPolygon2D" parent="StaticBody2D"]
polygon = PackedVector2Array(1330, 862, 1323, 796, 1313, 760, 1288, 714, 1259, 681, 1201, 625, 1132, 591, 1094, 591, 1057, 606, 1033, 628, 1023, 666, 1026, 709, 1040, 763, 1082, 837, 1138, 888, 1219, 930, 1270, 938, 1299, 929, 1321, 904)

[node name="BCWallLight" type="LightOccluder2D" parent="StaticBody2D"]
occluder = SubResource("OccluderPolygon2D_c06cw")

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="StaticBody2D"]
navigation_polygon = SubResource("NavigationPolygon_gmsjl")

[node name="DragonBody" parent="." instance=ExtResource("2_1brl2")]
position = Vector2(-267, -179)

[node name="Camera2D" type="Camera2D" parent="DragonBody"]
limit_left = -2000
limit_top = -1500
limit_right = 2000
limit_bottom = 1500

[node name="StaticBody2D2" type="StaticBody2D" parent="."]

[node name="BottomBound" type="CollisionShape2D" parent="StaticBody2D2"]
shape = SubResource("WorldBoundaryShape2D_4f2wl")

[node name="TopBound" type="CollisionShape2D" parent="StaticBody2D2"]
shape = SubResource("WorldBoundaryShape2D_yvv7w")

[node name="LeftBound" type="CollisionShape2D" parent="StaticBody2D2"]
shape = SubResource("WorldBoundaryShape2D_wvvnw")

[node name="RightBound" type="CollisionShape2D" parent="StaticBody2D2"]
shape = SubResource("WorldBoundaryShape2D_hknsi")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("3_na0vs")
volume_db = -5.0
autoplay = true

[node name="Entrances" type="Node2D" parent="." node_paths=PackedStringArray("entrances")]
script = ExtResource("1_xa7a5")
entrances = [NodePath("Node2D"), NodePath("Node2D2"), NodePath("Node2D3"), NodePath("Node2D4"), NodePath("Node2D5")]

[node name="Timer" type="Timer" parent="Entrances"]
wait_time = 5.0
autostart = true

[node name="Node2D" type="Node2D" parent="Entrances"]
position = Vector2(-2121, -619)

[node name="Node2D2" type="Node2D" parent="Entrances"]
position = Vector2(53, -1752)

[node name="Node2D3" type="Node2D" parent="Entrances"]
position = Vector2(2168, -12)

[node name="Node2D4" type="Node2D" parent="Entrances"]
position = Vector2(-181, 1714)

[node name="Node2D5" type="Node2D" parent="Entrances"]
position = Vector2(-2140, 797)

[connection signal="timeout" from="Entrances/Timer" to="Entrances" method="spawn"]
